#   应用模式


### JDBC 应用
-   [JDBC 流程](https://www.processon.com/view/link/5dc8c8fbe4b07548229edd7e)
-   Java对象属性与数据库表列字段相互映射
-   存入数据库时，使用Java对象属性值拼接SQL语句，发送给数据库执行
-   读取数据库时，使用查询SQL语句，解析响应结果，初始化Java对象
-   Java对象名称一般对应数据库表名
-   Java对象属性名称一般对应数据库表列字段
-   Java对象属性类型与数据库表列字段可能不匹配

### JDBC 查询步骤

1.  注册数据库驱动类，明确指定数据库URL地址、用户名、密码等
2.  DriverManager  --> 数据库连接
3.   数据库连接 --> Statement 对象
4.   Statement 对象执行SQL语句 --> ResultSet 对象
5.   ResultSet 读取数据 --> 转换 Java Bean 对象
6.    关闭 ResultSet、Statement和 数据库连接

CRUD 里，步骤 1--4、6 是固定的，这些重复性代码可以封装起来，步骤5是响应结果，自动转换不太容易，ORM框架就产生了

数据库是应用系统里比较珍贵的资源，需要被专门优化，不能像上面那么简单粗暴直接操作，需要集成缓存、数据源、数据库连接池等组件

### JDBC 最佳实践
-   引入数据库连接池
-   使用 PrearedStatement，通过预编译、参数占位符避免SQL注入，对象重复使用
-   禁用自动提交，将数据库操作放在一个事务中，避免频繁事务提交
-   JDBC 批处理可以降低数据库传输频率，进而提升整体性能
-   使用列名获取 ResultSet 中的数据，提升程序的健壮性、可读性
-   Java 7中，使用自动关闭资源
-   标准SQL语句，避免数据库对SQL支持的差异

开发人员更关注的是SQL语句和响应结果

----

# 随机访问文件

在前面的章节中，我们按顺序浏览了文件。

可以顺序浏览的文件是称为顺序文件。

在本章中，您将看到使用非顺序（随机）的优势访问文件的内容。

允许随机访问其内容的文件称为随机访问文件（RAF）。

由于顺序文件易于创建，因此使用频率更高，但是RAF更容易使用灵活，可以更快地找到他们的数据。

使用RAF，您可以打开文件，查找特定位置，以及从该文件读取或写入该文件。

后您打开皇家空军后，就可以使用记录号以随机方式读取或写入它，或者您可以添加到文件的开头或结尾，因为您知道文件中有多少条记录。

皇家空军允许您读取单个字符，读取大块字节或一行，替换文件的一部分，附加行，删除行等，并允许您以随机方式执行所有这些操作。

Java 7（NIO.2）引入了用于RAF的全新接口。

它的名字是SeekableByteChannel，它在java.nio.channels包中可用。

它扩展了旧的ByteChannel接口，它代表一个字节通道，该通道保持当前位置并允许要修改的位置。

此外，Java 7通过实现Java改进了著名的FileChannel类。

此接口，一次即可提供RAF和FileChannel功能。

一个简单的演员，我们可以将SeekableByteChannel转换为FileChannel。

本章广泛使用java.nio.ByteBuffer类，因此我们将从以下内容的简短概述开始它。

我们将继续详细介绍SeekableByteChannel接口，该接口将读取和随机写入文件以完成不同类型的常见任务。

然后，您将了解如何获取具有RAF功能的FileChannel，并探索FileChannel提供的主要功能，例如将文件的一个区域直接映射到内存中以加快访问速度，锁定文件的一个区域，以及从绝对位置读取和写入字节，而不会影响通道的当前位置。

本章以基准测试应用程序结尾，它将帮助您确定最快的方法。

使用FileChannel功能与其他常用方法（例如，Files.copy（））复制文件进行缓冲溪流，等等。

----